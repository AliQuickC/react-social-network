"use strict";(self.webpackChunksocial=self.webpackChunksocial||[]).push([[815],{5815:function(s,t,e){e.r(t),e.d(t,{default:function(){return T}});var o=e(8683),r=e(5671),i=e(3144),n=e(136),a=e(516),u=e(2791),l="ProfileInfo_descriptionBlock__GOSA-",p="ProfileInfo_profileTitle__8vMEg",c="ProfileInfo_mainPhoto__DxBx-",h=e(1628),d=e(4353),f=e(9439),x=e(184),j=function(s){var t=(0,u.useState)(!1),e=(0,f.Z)(t,2),o=e[0],r=e[1],i=(0,u.useState)(s.status),n=(0,f.Z)(i,2),a=n[0],l=n[1];(0,u.useEffect)((function(){l(s.status)}),[s.status]);return(0,x.jsxs)("div",{children:[!o&&(0,x.jsxs)("div",{children:["Status: ",(0,x.jsxs)("span",{onDoubleClick:function(){r(!0)},children:[s.status||"-------"," "]})]}),o&&(0,x.jsxs)("div",{children:["Status: ",(0,x.jsx)("input",{autoFocus:!0,onChange:function(s){l(s.currentTarget.value)},onBlur:function(){r(!1),s.updateStatus(a)},value:a})," "]})]})},v=function(s){var t=s.profile,e=s.status,o=s.updateStatus,r=s.isOwner,i=s.savePhoto;if(!t)return(0,x.jsx)(h.Z,{});return(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:l,children:[(0,x.jsx)("img",{className:c,src:null!=t.photos.large?t.photos.large:d,alt:"avatar"}),r&&(0,x.jsx)("input",{type:"file",onChange:function(s){s.target.files.length&&i(s.target.files[0])}}),(0,x.jsx)(j,{status:e,updateStatus:o}),(0,x.jsxs)("h4",{className:p,children:["\u0418\u043c\u044f: ",t.fullName]}),(0,x.jsxs)("p",{children:["\u041f\u0440\u043e \u043c\u0435\u043d\u044f: ",t.aboutMe]}),(0,x.jsxs)("p",{children:["\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: ",JSON.stringify(t.contacts)]}),(0,x.jsxs)("p",{children:["\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443: ",t.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442"]}),(0,x.jsxs)("p",{children:["\u041a\u0430\u043a\u0443\u044e \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044e \u0438\u0449\u0443: ",t.lookingForAJobDescription?t.lookingForAJobDescription:""]})]})})},m=e(7683),P="MyPosts_postsBlock__i2BSj",g="MyPosts_posts__B8VSj",S="Post_item__ywGzp",k=function(s){return(0,x.jsxs)("div",{className:S,children:[(0,x.jsx)("img",{src:s.avatar,alt:"avatar"}),s.message,(0,x.jsxs)("div",{children:[(0,x.jsx)("span",{children:"like"})," ",s.likesCount]})]})},_=e(6139),w=e(704),y=e(5304),Z=e(9086),b=(0,y.D)(10),C=(0,w.Z)({form:"ProfileAddNewPostForm"})((function(s){return(0,x.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,x.jsx)("div",{children:(0,x.jsx)(_.Z,{name:"newPostText",placeholder:"Post message",component:Z.gx,validate:[y.C,b]})}),(0,x.jsx)("div",{children:(0,x.jsx)("button",{children:"Add post"})})]})})),I=function(s){var t=s.posts.map((function(s){return(0,x.jsx)(k,{message:s.message,likesCount:s.likesCount,avatar:s.avatarLink},s.id)}));return(0,x.jsxs)("div",{className:P,children:[(0,x.jsx)("h3",{children:"My posts"}),(0,x.jsx)(C,{onSubmit:function(t){s.addPost(t.newPostText)}}),(0,x.jsx)("div",{className:g,children:t})]})},N=e(8687),A=(0,N.$j)((function(s){return{posts:s.profilePage.posts,newPostText:s.profilePage.newPostText}}),(function(s){return{addPost:function(t){s((0,m.Wl)(t))}}}))(I),D=function(s){return(0,x.jsxs)("div",{children:[(0,x.jsx)(v,{profile:s.profile,status:s.status,updateStatus:s.updateStatus,isOwner:s.isOwner,savePhoto:s.savePhoto}),(0,x.jsx)(A,{})]})},B=e(7781),M=e(5628),O=function(s){(0,n.Z)(e,s);var t=(0,a.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"refreshProfile",value:function(){var s=this.props.match.params.userId;s||(s=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(s),this.props.getStatus(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,t,e){this.props.match.params.userId!==s.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,x.jsx)(D,(0,o.Z)((0,o.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto}))}}]),e}(u.Component),T=(0,B.qC)((0,N.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfile:m.et,getStatus:m.lR,updateStatus:m.Nf,savePhoto:m.Ju}),M.Z)(O)}}]);
//# sourceMappingURL=815.0beed06b.chunk.js.map